@if (IsShowing)
{
	<MudPaper Class="w100 pa-1 overflow-y-scroll d-flex flex-column relative" Style="height: 200px" data-test-id="consolePanel">
		<div class="d-flex" style="position: absolute; right: 0px; top: 0px; z-index: 10;">
			<MudIconButton Icon="@(AutoScrollEnabled ? MudBlazor.Icons.Material.Filled.Lock : MudBlazor.Icons.Material.Filled.LockOpen)" 
						   Size="Size.Small" 
						   Title="@(AutoScrollEnabled ? "Auto-scroll enabled" : "Auto-scroll disabled")"
						   OnClick="@(() => AutoScrollEnabled = !AutoScrollEnabled)"
						   data-test-id="autoScrollToggle"></MudIconButton>
			<MudIconButton Icon="@MudBlazor.Icons.Material.Filled.ArrowDropDown" Size="Size.Small" OnClick="@(() => IsShowing = false)"></MudIconButton>
		</div>

		<MudTabs Elevation="0" Rounded="false" Class="w100 h100 consoleTabs">
			<MudTabPanel Text="Console Output" Class="consoleOutputTab">
				<div @ref="ConsoleOutputContainer" class="w100 h100 overflow-y-scroll d-flex flex-column-reverse" data-test-id="consoleOutputContainer">
					@foreach (var line in Lines.Reverse())
					{
						<span class="w100 consoleLine">@line</span>
					}
				</div>
			</MudTabPanel>
			<MudTabPanel Text="Debug Callbacks" Class="debugCallbacksTab">
				<div @ref="DebugCallbacksContainer" class="w100 h100 overflow-y-scroll d-flex flex-column-reverse" data-test-id="debugCallbacksContainer">
					@foreach (var callback in DebugCallbacks.Reverse())
					{
						<span class="w100 debugCallbackLine">@callback</span>
					}
				</div>
			</MudTabPanel>
		</MudTabs>
	</MudPaper>

}
else
{
	<div class="absolute d-flex w100" style="bottom: 0px">
		<MudIconButton Icon="@MudBlazor.Icons.Material.Filled.ArrowDropUp" Style="margin-left: auto; margin-right: auto" Size="Size.Medium" OnClick="@(() => IsShowing = true)" data-test-id="showConsoleButton"></MudIconButton>
	</div>
}
